@using com.Sconit.Web.Models.SearchModels.INV
@using com.Sconit.Entity.SYS
<fieldset>
    @using (Html.BeginForm("List", "AuditInspection"))
    {   
        <div class="search">
            <div class="editor-label-2">
                @Html.LabelForModel(Resources.INV.LocationLotDetail.LocationLotDetail_Region)
            </div>
            <div class="editor-field-2">
                @{
        Html.RenderAction("_RegionComboBox", "Common", new
        {
            controlName = "Region",
            isChange = true,
            selectedValue = ViewBag.Region != null ? (string)ViewBag.Region : string.Empty
        });
                }
            </div>
            <div class="search-label">
                <label for="LocationLotDetail_Location">
                    @Resources.INV.LocationLotDetail.LocationLotDetail_Location
                </label>
            </div>
            <div class="search-field">
                @{
        Html.RenderAction("_LocationComboBox", "Common", new
        {
            controlName = "Location",
            checkRegion = true,
            selectedValue = TempData["LocationLotDetailSearchModel"] != null ? ((LocationLotDetailSearchModel)TempData["LocationLotDetailSearchModel"]).Location : string.Empty

        });
                }
            </div>
          
            <div class="search-label">
                <label for="LocationLotDetail_LotNo">
                    @Resources.INV.LocationLotDetail.LocationLotDetail_LotNoFrom
                </label>
            </div>
            <div class="search-field">
                @Html.TextBox("LotNoFrom", TempData["LocationLotDetailSearchModel"] != null ? ((LocationLotDetailSearchModel)TempData["LocationLotDetailSearchModel"]).LotNoFrom : string.Empty)
            </div>
            <div class="search-label">
                <label for="LocationLotDetail_LotNoTo">
                    @Resources.INV.LocationLotDetail.LocationLotDetail_LotNoTo
                </label>
            </div>
            <div class="search-field">
                @Html.TextBox("LotNoTo", TempData["LocationLotDetailSearchModel"] != null ? ((LocationLotDetailSearchModel)TempData["LocationLotDetailSearchModel"]).LotNoTo : string.Empty)
            </div>
              <div class="search-label">
                <label for="LocationLotDetail_Item">
                    @Resources.INV.LocationLotDetail.LocationLotDetail_Item
                </label>
            </div>
            <div class="search-field">
                @{
        Html.RenderAction("_ItemComboBox", "Common",
            new
            {
                controlName = "Item",
                selectedValue = TempData["LocationLotDetailSearchModel"] != null ? ((LocationLotDetailSearchModel)TempData["LocationLotDetailSearchModel"]).Item : string.Empty
            });
                    
                }
            </div>
             <div class="search-label"></div>
              <div class="search-field"></div>



            <div class="search-label">
                <label for="LocationLotDetail_Freezed">
                    @Resources.INV.LocationLotDetail.LocationLotDetail_IsFreeze
                </label>
            </div>
            <div class="search-field">
                @Html.CheckBox("IsFreeze", TempData["LocationLotDetailSearchModel"] != null ? ((LocationLotDetailSearchModel)TempData["LocationLotDetailSearchModel"]).IsFreeze : false)
            </div>
            <div class="search-label">
                <label for="LocationLotDetail_IsConsignment">
                    @Resources.INV.LocationLotDetail.LocationLotDetail_IsConsignment
                </label>
            </div>
            <div class="search-field">
                @Html.CheckBox("IsConsignment", TempData["LocationLotDetailSearchModel"] != null ? ((LocationLotDetailSearchModel)TempData["LocationLotDetailSearchModel"]).IsConsignment : false)
            </div>
        </div>
        <div class="search-footer">
            @Html.Hidden("isFromList", true)
            <button type="submit" id="btnSearch">
                @Resources.SYS.Global.Button_Search</button>
            <button type="button" id="btnSumitInspectionHuId" onclick="CheckedSumitInspectionHuId()"
                style="display: none">@Resources.SYS.Global.Button_AuditInspectionHuid</button>
        </div>

    }
</fieldset>
<script type="text/javascript">
    function Region_Change(e) {
        var combobox = $(this).data("tComboBox");
        if (combobox == undefined) {
            return;
        }
        if (combobox.selectedIndex == undefined || combobox.selectedIndex == -1) {
            combobox.value("");
            combobox.reload();
        }
        $('#Location').data('tComboBox').value('');
        $('#Location').data('tComboBox').text('');
        $("#Location").data("tComboBox").reload();
    }

    function Location_DataBinding(e) {
        e.data = {
            region: $("#Region").val()
        };
    }

</script>
